<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>ðŸ“Š Live Trading Dashboard</h1>

    <div id="market-data">
        <h2>Real-Time Market Data</h2>
        <pre id="data-feed">Waiting for live data...</pre>
    </div>

    <div id="order-section">
        <h2>Place Order</h2>
        <input type="text" id="symbol" placeholder="Symbol (e.g., NIFTY)">
        <input type="number" id="quantity" placeholder="Quantity">
        <input type="number" id="price" placeholder="Price">
        <button onclick="placeOrder()">Place Order</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
<button id="restart-btn">ðŸ”„ Restart Bot</button>

<script>
document.getElementById("restart-btn").addEventListener("click", function() {
    fetch("/restart-bot", { method: "POST" })
    .then(response => response.json())
    .then(data => alert(data.message))
    .catch(error => alert("Error restarting bot!"));
});
</script>
<div id="log-container" style="height: 300px; overflow-y: scroll; background: black; color: green; padding: 10px;"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
<script>
var socket = io.connect("http://your-server-ip:5001");

socket.on("log_update", function(data) {
    var logContainer = document.getElementById("log-container");
    logContainer.innerHTML += data.log + "<br>";
    logContainer.scrollTop = logContainer.scrollHeight;
});
</script>
<button id="start-btn">â–¶ Start Bot</button>
<button id="stop-btn">â›” Stop Bot</button>
<p id="bot-status">Checking bot status...</p>

<script>
var server_url = "http://your-server-ip:5001";

function checkBotStatus() {
    fetch(server_url + "/bot-status")
    .then(response => response.json())
    .then(data => {
        document.getElementById("bot-status").innerText = data.running ? "âœ… Bot is Running" : "â›” Bot is Stopped";
    });
}

document.getElementById("start-btn").addEventListener("click", function() {
    fetch(server_url + "/start-bot", { method: "POST" })
    .then(response => response.json())
    .then(data => alert(data.message))
    .then(checkBotStatus);
});

document.getElementById("stop-btn").addEventListener("click", function() {
    fetch(server_url + "/stop-bot", { method: "POST" })
    .then(response => response.json())
    .then(data => alert(data.message))
    .then(checkBotStatus);
});

setInterval(checkBotStatus, 5000);  // Auto-update status every 5 seconds
</script>
